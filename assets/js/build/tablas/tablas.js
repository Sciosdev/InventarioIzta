import{crearFormulario,crearScrollableModal,mostrarAlerta,consultarRegistros,guardar,eliminar,resetearFilaSeleccionada,mostrarContraseña}from"../funciones.js";import{nombreTabla,datos,btnNuevo,btnEditar,btnEliminar,btnConsultar,datoEditar,dato_Editar}from"../variables.js";consultarRegistros(),btnNuevo.addEventListener("click",(function(){const r=crearFormulario(nombreTabla);crearScrollableModal("scrollable-modal","Crear",r.outerHTML);const a=document.querySelector("tbody .table-active");a&&resetearFilaSeleccionada(a),guardar()})),btnEditar.addEventListener("click",(async function(){if(console.log(dato_Editar.size),1!==dato_Editar.size){const r=0===dato_Editar.size?"Por favor, selecciona un registro antes de continuar":"Solo puedes editar un registro a la vez";return void mostrarAlerta("warning","Alerta",r)}const r=dato_Editar.values().next().value,a=crearFormulario(nombreTabla,r);crearScrollableModal("scrollable-modal","Editar",a.outerHTML),"usuarios"===nombreTabla&&mostrarContraseña(),guardar()})),btnEliminar.addEventListener("click",(async function(){if(1!==dato_Editar.size){const r=0===dato_Editar.size?"Por favor, selecciona un registro antes de continuar":"No es posible eliminar más de un registro a la vez.";return void mostrarAlerta("warning","Alerta",r)}const r=document.createElement("P");r.classList.add("text-center","fs-4"),r.textContent="¿Estás seguro de que deseas eliminar este registro?",crearScrollableModal("scrollable-modal","Eliminar",r.outerHTML,"confirmar"),document.querySelector(".confirmar").addEventListener("click",eliminar)})),btnConsultar.addEventListener("click",consultarRegistros);